i want you to use this method to guid me (if there is line need to replace you tell me replace this line (you type the line ) with this line line (you type the new line ) if there is block need to change (like tell me you will replace the block from the line(you write the exact line(like async function dataURLtoBlob(dataurl) {) to the line (you write the exact line (like if (isCancelMode) { )(you should giud be unic line )with the following block , the final rusalt should look somthing like (new block )

if there is alot of changes in mutilple places you will tell me replace the entier contant of the file (you type the file name ) with the following code (you send me the full new code ready to just copy and past note : that is you shouldnt write somthing in the code like rest of the code or the following logics or thing things you should write the entier code to be ready to copy and past )(are you understand this method is everything clear)